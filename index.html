<!doctype html>
<meta charset="utf-8">
<title>chat</title>
<script src="/socket.io/socket.io.js"></script>
<script src="//code.jquery.com/jquery-2.1.3.min.js"></script>

<!--chat部分<form><input></form><div></div>-->
<p>スマホを振れ！！！！</p>
<main>
     <div>
       <div id="acceleration">
         <h2>acceleration[m/s^2]</h2>
         <p>x: <span id="acc-x"></span></p>
         <p>y: <span id="acc-y"></span></p>
         <p>z: <span id="acc-z"></span></p>
       </div>
     </div>
   </main>
<script>
/* var socket = io();
 $('form').submit(function () {
   socket.emit('msg', $('input').val());
   $('input').val('');
   return false;
 });
 socket.on('msg', function (data) {
   data = $('<div/>').text(data).html();
   $('div').prepend(data + '<br>');
 });
 */
 (function() {
        window.addEventListener("devicemotion", function(e){
          //加速度
          var acc = e.acceleration;
          var x = obj2NumberFix(acc.x, 5);
          var y = obj2NumberFix(acc.y, 5);
          var z = obj2NumberFix(acc.z, 5);
          print3('acc-x', x, 'acc-y', y, 'acc-z', z); //加速度
          function obj2NumberFix(obj, fix_deg){
            return Number(obj).toFixed(fix_deg);
          }

          function print3(id1, value1, id2, value2, id3, value3){
            print1(id1, value1);
            print1(id2, value2);
            print1(id3, value3);
          }
          function print1(id, value){
            var id_obj = document.getElementById(id);
            id_obj.innerHTML = value;
          }
        });
      });
 setTimeout(() => {
    window.location.href = './wait.html';
 }, 10000);

</script>
